<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Blank HTML5</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <style>
</style>
</head>

<body>
    <p>This is my HTML5 Boilerplate.</p>


    <em>Country</em>
    <select data-placeholder="Choose a Country..." style="width:350px;" tabindex="1" id="countries" class="ui-widget">
<option selected value="Choose a Country..."></option>
</select>

<br>
<em>State</em>
<select data-placeholder="Choose a State..." style="width:350px;" tabindex="2" id="states">
<option value=""></option>
</select>

<br>
<em>Municipio</em>
<select data-placeholder="Choose a Municipio..." style="width:350px;" tabindex="3" id="municipios">
<option value=""></option>
</select>

<div></div>
<script>
    $(document).ready(function () {

        $('#states').prop('disabled', 'disabled');
        $('#municipios').prop('disabled', 'disabled');

        var country_list = ["Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Anguilla", "Antigua &amp; Barbuda", "Argentina", "Armenia", "Aruba", "Australia", "Austria", "Azerbaijan", "Bahamas"
            , "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium", "Belize", "Benin", "Bermuda", "Bhutan", "Bolivia", "Bosnia &amp; Herzegovina", "Botswana", "Brazil", "British Virgin Islands"
            , "Brunei", "Bulgaria", "Burkina Faso", "Burundi", "Cambodia", "Cameroon", "Cape Verde", "Cayman Islands", "Chad", "Chile", "China", "Colombia", "Congo", "Cook Islands", "Costa Rica"
            , "Cote D Ivoire", "Croatia", "Cruise Ship", "Cuba", "Cyprus", "Czech Republic", "Denmark", "Djibouti", "Dominica", "Dominican Republic", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea"
            , "Estonia", "Ethiopia", "Falkland Islands", "Faroe Islands", "Fiji", "Finland", "France", "French Polynesia", "French West Indies", "Gabon", "Gambia", "Georgia", "Germany", "Ghana"
            , "Gibraltar", "Greece", "Greenland", "Grenada", "Guam", "Guatemala", "Guernsey", "Guinea", "Guinea Bissau", "Guyana", "Haiti", "Honduras", "Hong Kong", "Hungary", "Iceland", "India"
            , "Indonesia", "Iran", "Iraq", "Ireland", "Isle of Man", "Israel", "Italy", "Jamaica", "Japan", "Jersey", "Jordan", "Kazakhstan", "Kenya", "Kuwait", "Kyrgyz Republic", "Laos", "Latvia"
            , "Lebanon", "Lesotho", "Liberia", "Libya", "Liechtenstein", "Lithuania", "Luxembourg", "Macau", "Macedonia", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Mauritania"
            , "Mauritius", "Mexico", "Moldova", "Monaco", "Mongolia", "Montenegro", "Montserrat", "Morocco", "Mozambique", "Namibia", "Nepal", "Netherlands", "Netherlands Antilles", "New Caledonia"
            , "New Zealand", "Nicaragua", "Niger", "Nigeria", "Norway", "Oman", "Pakistan", "Palestine", "Panama", "Papua New Guinea", "Paraguay", "Peru", "Philippines", "Poland", "Portugal"
            , "Puerto Rico", "Qatar", "Reunion", "Romania", "Russia", "Rwanda", "Saint Pierre &amp; Miquelon", "Samoa", "San Marino", "Satellite", "Saudi Arabia", "Senegal", "Serbia", "Seychelles"
            , "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "South Africa", "South Korea", "Spain", "Sri Lanka", "St Kitts &amp; Nevis", "St Lucia", "St Vincent", "St. Lucia", "Sudan"
            , "Suriname", "Swaziland", "Sweden", "Switzerland", "Syria", "Taiwan", "Tajikistan", "Tanzania", "Thailand", "Timor L'Este", "Togo", "Tonga", "Trinidad &amp; Tobago", "Tunisia"
            , "Turkey", "Turkmenistan", "Turks &amp; Caicos", "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "Uruguay", "Uzbekistan", "Venezuela", "Vietnam", "Virgin Islands (US)"
            , "Yemen", "Zambia", "Zimbabwe"];

        var option = '<option selected value="Choose a Country..."></option>';
        for (var i = 0; i < country_list.length; i++) {
            option += '<option value="' + country_list[i] + '">' + country_list[i] + '</option>';
        }
        $('#countries').append(option);


        $("select")
            .change(function () {

                //console.log("TESTEANDO");

                 //get a reference to the select element
            var $select = $('#countries');
            $('#states').prop('disabled', false);


                /*
                                var str = "";
                                $("select option:selected").each(function () {
                                    str += $(this).text() + " ";
                                });
                                $("div").text(str);
                */



            



    })
        .change();
        /*
                    $("select")
                    .change(function () {
                        option = '';
                        $('#states').append(option);
                    })
                    .change();
        */

        

    });

    function test() {
        console.log("PROBANDO");


        //get a reference to the select element
        var $select = $('#states');

        //request the JSON data and parse into the select element
        $.getJSON('states.JSON', function (data) {
            var option2 = "";

            //clear the current content of the select
            $select.html('');
            $('#states').prop('disabled', false);
            //console.log("TEST");
            //option2 += '<option value="' + "A" + '">' + "A" + '</option>';
            //$('#states').append(option2);

            //iterate over the data and append a select option

            //$.each(data.states, function (key, val) {
            //$select.append('<option id="' + val.id + '">' + val.name + '</option>');

            //})
            });
        }
</script>
</body>

</html>